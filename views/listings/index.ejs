<% layout("/layouts/boilerplate") %>

<div class="container">
<div class="filters-container">

  <div class="filters">
  <div class="filter">
  <a href="/listings/category/house" 
    class="filter-btn text-center">
    <i class="fa-solid fa-house "></i>
    <p>House</p>
  </a></div>
  <div class="filter">
  <a href="/listings/category/resort"
    class="filter-btn text-center">
    <i class="fa-solid fa-umbrella-beach"></i>
    <p>Resort</p>
  </a></div>
  <div class="filter">
  <a href="/listings/category/hotel" 
    class="filter-btn text-center">
    <i class="fa-solid fa-bed"></i>
    <p>Hotel</p>
  </a></div>
  <div class="filter">
  <a href="/listings/category/carvan"
    class="filter-btn text-center">
    <i class="fa-solid fa-caravan"></i>
    <p>Carvan</p>
  </a></div>
  <div class="filter">
  <a href="/listings/category/basement" 
    class="filter-btn text-center">
    <i class="fa-solid fa-house-laptop"></i>
    <p>Basement</p>
  </a></div>
  <div class="filter">
  <a href="/listings/category/apartment"
    class="filter-btn text-center">
    <i class="fa-solid fa-hotel "></i>
    <p>Apartment</p>
  </a>
  </div>
  </div>


  <div class="tax-toggle">
  <div class="form-check-reverse form-switch">
    <input 
      class="form-check-input" 
      type="checkbox" 
      role="switch" 
      id="flexSwitchCheckDefault">
    <label class="form-check-label" for="flexSwitchCheckDefault">Display after tax</label>
  </div>
  </div>
</div>

  
  <div class ="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3 ">
    <% for(let listing of listings) { %>
      <a href="/listings/<%= listing._id %>" class="listing-link">
  <div class="card col listing-card">
  <img src="<%= listing.image.url %>" 
       class="card-img-top" 
       alt="listing_image" 
       style ="height:20rem">
  <div class="card-img-overlay"></div>
  <div class="card-body">
    <p class="card-text">
     <b> <%= listing.title %> <br /></b>
      &#36; <%= listing.price.toLocaleString("en-CA") %> /night
      <i class="tax-info"> &nbsp; &nbsp;+13% GST</i>
    </p>
  </div>
</div> </a>
<% } %></div>
</div>

<script src="/js/tax.js"></script>



